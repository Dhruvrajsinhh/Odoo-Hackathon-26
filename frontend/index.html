<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dayflow HRMS - Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <h1>Dayflow HRMS</h1>

    <h2>Signup</h2>
    <input type="email" id="signupEmail" placeholder="Email">
    <input type="password" id="signupPassword" placeholder="Password">
    <button onclick="signup()">Sign Up</button>

    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="login()">Login</button>

    <p id="message"></p>

    <!-- Firebase + Auth -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
        import { 
            getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword 
        } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBCruYAUwg8kQziyVv8kG0OeMj0mJR3UIg",
            authDomain: "odoo-x-gcet---dayflow---hrms.firebaseapp.com",
            projectId: "odoo-x-gcet---dayflow---hrms",
            storageBucket: "odoo-x-gcet---dayflow---hrms.firebasestorage.app",
            messagingSenderId: "592385682012",
            appId: "1:592385682012:web:3d729cbbdb6f6aab29d499"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Signup function
        window.signup = function () {
            const email = document.getElementById("signupEmail").value;
            const password = document.getElementById("signupPassword").value;

            createUserWithEmailAndPassword(auth, email, password)
                .then(() => {
                    document.getElementById("message").innerText = "Signup successful ✅";
                })
                .catch(error => {
                    document.getElementById("message").innerText = error.message;
                });
        }

        // Login function
        window.login = function () {
            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;

            signInWithEmailAndPassword(auth, email, password)
                .then(() => {
                    document.getElementById("message").innerText = "Login successful ✅";
                })
                .catch(error => {
                    document.getElementById("message").innerText = error.message;
                });
        }
    </script>

</body>
</html>